(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),s=n.n(c),i=(n(95),n(25)),o=(n(96),n(12)),u=n.n(o),l=n(35),j=n(50),p=n(152),b=n(153),f=n(158),d=n(154),h=n(159),O=n(148),x=Object(O.a)({signinBox:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},input:{marginTop:"25px"},button:{marginTop:"20px"},span:{marginTop:"80px",marginBottom:"20px"},link:{textDecoration:"none"}}),m=n(161),v=n(160),g=Object(O.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),w=n(27),y="SET_CURRENT_USER",k="SIGN_IN_WITH_EMAIL",S="SIGN_IN_WITH_GOOGLE",N="SIGN_UP_WITH_EMAIL_AND_PASSWORD",C="SIGN_OUT",I="SET_ERROR_MESSAGE",T=function(e){return{type:y,payload:e}},P=function(e,t){return{type:k,email:e,password:t}},R=function(e,t){return{type:N,email:e,password:t}},L=function(e){return{type:I,errorMessage:e}},D=n(5),E=function(){var e=Object(w.c)((function(e){return e.auth.error})),t=Object(w.b)(),n=g(),a=Object(r.useState)(!0),c=Object(i.a)(a,2),s=c[0],o=c[1],u=function(e,n){"clickaway"!==n&&(t(L("")),o(!1))};return Object(D.jsx)(h.a,{className:n.root,children:Object(D.jsx)(m.a,{open:s,autoHideDuration:4e3,onClose:u,children:Object(D.jsx)(v.a,{elevation:6,variant:"filled",severity:"error",onClose:u,children:e})})})},_=a.a.memo((function(){var e=x(),t=Object(w.b)(),n=Object(w.c)((function(e){return e.auth.error})),a=Object(r.useState)(""),c=Object(i.a)(a,2),s=c[0],o=c[1],O=Object(r.useState)(""),m=Object(i.a)(O,2),v=m[0],g=m[1],y=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t(P(s,v)),o(""),g("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)(p.a,{className:e.signinBox,children:[n?Object(D.jsx)(E,{}):"",Object(D.jsx)(b.a,{variant:"h5",children:"Sign in with email and password"}),Object(D.jsxs)("form",{onSubmit:y,className:e.form,children:[Object(D.jsx)(f.a,{value:s,onChange:function(e){o(e.currentTarget.value)},required:!0,type:"email",variant:"outlined",label:"Email",className:e.input}),Object(D.jsx)(f.a,{value:v,onChange:function(e){g(e.currentTarget.value)},required:!0,type:"password",variant:"outlined",label:"Password",className:e.input}),Object(D.jsx)(d.a,{type:"submit",variant:"contained",color:"secondary",className:e.button,children:"Sign in"}),Object(D.jsx)(d.a,{onClick:function(){t({type:S})},variant:"contained",color:"primary",className:e.button,children:"Sign in with Google"})]}),Object(D.jsx)(b.a,{className:e.span,children:"I don't have an account"}),Object(D.jsx)(h.a,{children:Object(D.jsx)(j.b,{to:"/signup",className:e.link,children:Object(D.jsx)(d.a,{variant:"contained",color:"secondary",children:"Sign up"})})})]})})),M=n(155),U=n(156),A=n(162),G=Object(O.a)({header:{display:"flex",justifyContent:"space-between",backgroundColor:"#234"},info:{display:"flex",alignItems:"center"},avatar:{marginLeft:"20px"},button:{textDecoration:"none",marginLeft:"20px"}}),B=a.a.memo((function(){var e=G(),t=Object(w.c)((function(e){return e.auth.user})),n=Object(w.b)();return Object(D.jsx)(M.a,{position:"static",children:Object(D.jsxs)(U.a,{className:e.header,children:[Object(D.jsx)(b.a,{variant:"h5",children:"Paint"}),Object(D.jsx)(h.a,{children:t?Object(D.jsxs)(h.a,{className:e.info,children:[Object(D.jsx)(b.a,{variant:"body2",children:t.email}),Object(D.jsx)(A.a,{alt:"User profile photo",src:t.photo?t.photo:"",className:e.avatar}),Object(D.jsx)(d.a,{variant:"contained",color:"secondary",className:e.button,onClick:function(){n({type:C})},children:"Sign out"})]}):""})]})})})),W=n(16),Y=Object(O.a)({signUpBox:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},input:{marginTop:"20px"},buttons:{marginTop:"20px",width:"250px",display:"flex",justifyContent:"space-between"},link:{textDecoration:"none"}}),q=a.a.memo((function(){var e=Y(),t=Object(w.b)(),n=Object(r.useState)(""),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),h=Object(i.a)(o,2),O=h[0],x=h[1],m=Object(r.useState)(""),v=Object(i.a)(m,2),g=v[0],y=v[1],k=Object(w.c)((function(e){return e.auth.error})),S=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),O===g){e.next=4;break}return t(L("Passwords don't match, try again!")),e.abrupt("return");case 4:if(!O.includes(" ")){e.next=7;break}return t(L("Password must be without spaces!")),e.abrupt("return");case 7:t(R(c,O)),s(""),x(""),y("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)(p.a,{className:e.signUpBox,children:[k?Object(D.jsx)(E,{}):"",Object(D.jsx)(b.a,{variant:"h5",children:"Sign up with email and password"}),Object(D.jsxs)("form",{className:e.form,onSubmit:S,children:[Object(D.jsx)(f.a,{variant:"outlined",type:"email",name:"email",value:c,onChange:function(e){s(e.currentTarget.value)},label:"Email",required:!0,className:e.input}),Object(D.jsx)(f.a,{variant:"outlined",type:"password",name:"password",value:O,onChange:function(e){x(e.currentTarget.value)},label:"Password",required:!0,className:e.input}),Object(D.jsx)(f.a,{variant:"outlined",type:"password",name:"confirmPassword",value:g,onChange:function(e){y(e.currentTarget.value)},label:"Confirm Password",required:!0,className:e.input}),Object(D.jsxs)(p.a,{className:e.buttons,children:[Object(D.jsx)(j.b,{to:"/signin",className:e.link,children:Object(D.jsx)(d.a,{variant:"contained",color:"secondary",children:"Go back"})}),Object(D.jsx)(d.a,{color:"secondary",variant:"contained",type:"submit",children:"SIGN UP"})]})]})]})})),F=n(53);n(108),n(113);F.a.initializeApp({apiKey:"AIzaSyBxYYF8mjQQt3MP_tLcmflpyBmZ21IVHOU",authDomain:"innowise-paint.firebaseapp.com",projectId:"innowise-paint",storageBucket:"innowise-paint.appspot.com",messagingSenderId:"1075639282075",appId:"1:1075639282075:web:a1298d9cb7aa7feb5c193e"});var H=F.a.auth(),X=F.a.firestore(),z=new F.a.auth.GoogleAuthProvider,J=function(){return H.signInWithPopup(z)},Q=(F.a,n(163)),K=n(157),V=Object(O.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Z=a.a.memo((function(){var e=V();return Object(D.jsx)(h.a,{children:Object(D.jsx)(Q.a,{className:e.backdrop,open:!0,children:Object(D.jsx)(K.a,{color:"inherit"})})})})),$=n(115),ee=(n(111),function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useRef)(),a=Object(r.useState)("#743DF5"),c=Object(i.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(1),l=Object(i.a)(u,2),j=l[0],p=(l[1],Object(r.useState)()),b=Object(i.a)(p,2),f=b[0],d=b[1],h=Object(r.useState)(),O=Object(i.a)(h,2),x=O[0],m=O[1],v=Object(r.useState)(),g=Object(i.a)(v,2),w=g[0],y=g[1],k=Object(r.useState)(),S=Object(i.a)(k,2),N=S[0],C=S[1],I=Object(r.useState)("pencil"),T=Object(i.a)(I,2),P=T[0],R=T[1];Object(r.useEffect)((function(){e.current&&t.current&&(y(e.current.getContext("2d")),C(t.current.getContext("2d")))}),[]);return Object(D.jsxs)("div",{className:"canvas-box",children:[Object(D.jsxs)("div",{className:"buttons",children:[Object(D.jsx)("button",{onClick:function(){return R("pencil")},children:"Pencil"}),Object(D.jsx)("button",{onClick:function(){return R("rectangle")},children:"Rectangle"}),Object(D.jsx)("button",{onClick:function(){return R("circle")},children:"Circle"}),Object(D.jsx)("button",{onClick:function(){return R("line")},children:"Line"}),Object(D.jsx)("input",{type:"color",value:s,onChange:function(e){return o(e.target.value)}}),Object(D.jsxs)("select",{name:"Thickness",children:[Object(D.jsx)("option",{value:"1",children:"1"}),Object(D.jsx)("option",{value:"2",children:"2"}),Object(D.jsx)("option",{value:"4",children:"4"}),Object(D.jsx)("option",{value:"8",children:"8"}),Object(D.jsx)("option",{value:"16",children:"16"})]}),Object(D.jsx)("button",{onClick:function(){return[w.clearRect(0,0,e.current.width,e.current.height),N.clearRect(0,0,t.current.width,t.current.height)]},children:"Clear"}),Object(D.jsx)("button",{children:"undo"}),Object(D.jsx)("button",{children:"save"})]}),Object(D.jsxs)($.a,{className:"canvasContainer",ref:n,elevation:"5",children:[Object(D.jsx)("canvas",{ref:t,width:600,height:600,className:"canvas"}),Object(D.jsx)("canvas",{ref:e,className:"canvas",width:600,height:600,onMouseDown:function(e){d(e.pageX-e.target.offsetLeft),m(e.pageY-e.target.offsetTop)},onMouseMove:function(t){if(w&&f&&x&&n.current&&e.current)switch(w.strokeStyle=s,w.lineWidth=j,w.clearRect(0,0,e.current.width,e.current.height),P){case"pencil":w.lineTo(t.pageX-t.target.offsetLeft,t.pageY-t.target.offsetTop),w.stroke();break;case"rectangle":var r=t.pageX-f-n.current.offsetLeft,a=t.pageY-x-n.current.offsetTop;w.strokeRect(f,x,r,a),w.stroke();break;case"circle":w.beginPath(),w.arc(f,x,Math.sqrt(Math.pow(t.pageX-f-n.current.offsetLeft,2)+Math.pow(t.pageY-x-n.current.offsetTop,2)),0,2*Math.PI,!1),w.stroke();break;case"line":w.beginPath(),w.moveTo(f,x),w.lineTo(t.clientX-n.current.offsetLeft,t.clientY-n.current.offsetTop),w.stroke()}},onMouseUp:function(t){w&&N&&(N.drawImage(e.current,0,0),w.beginPath(),d(null),m(null))}})]})]})});var te=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(w.b)(),s=Object(w.c)((function(e){return e.auth.user}));return Object(r.useEffect)((function(){a(!0),H.onAuthStateChanged((function(e){e?(c(T({uid:e.uid,email:e.email,photo:e.photoURL})),a(!1)):(c(T(null)),a(!1))}))}),[c]),Object(D.jsxs)(p.a,{className:"App",children:[Object(D.jsx)(B,{}),n?Object(D.jsx)(Z,{}):Object(D.jsxs)(p.a,{className:"main",children:[s?Object(D.jsx)(W.d,{children:Object(D.jsx)(W.b,{exact:!0,path:"/",children:Object(D.jsx)(ee,{})})}):Object(D.jsx)(W.a,{to:"/signin"}),null===s?Object(D.jsxs)(W.d,{children:[Object(D.jsx)(W.b,{exact:!0,path:"/signup",children:Object(D.jsx)(q,{})}),Object(D.jsx)(W.b,{exact:!0,path:"/signin",children:Object(D.jsx)(_,{})}),Object(D.jsx)(W.b,{path:"*",children:Object(D.jsx)(W.a,{to:"/signin"})})]}):Object(D.jsx)(W.a,{to:"/"})]})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,165)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},re=n(58),ae={user:null,error:null},ce=n(41),se=Object(ce.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(re.a)(Object(re.a)({},e),{},{user:t.payload});case I:return Object(re.a)(Object(re.a)({},e),{},{error:t.errorMessage});default:return e}}}),ie=n(80),oe=n(79),ue=n(64),le=n(21);function je(){return pe.apply(this,arguments)}function pe(){return(pe=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.signInWithEmailAndPassword(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return he.apply(this,arguments)}function he(){return(he=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.createUserWithEmailAndPassword(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return xe.apply(this,arguments)}function xe(){return(xe=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.signOut();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=X.collection("users").doc("".concat(t.uid)),e.next=3,n.set({userId:t.uid,email:t.email,photo:t.photo});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge=u.a.mark(Pe),we=u.a.mark(Re),ye=u.a.mark(Le),ke=u.a.mark(De),Se=u.a.mark(Ee),Ne=u.a.mark(_e),Ce=u.a.mark(Me),Ie=u.a.mark(Ue),Te=u.a.mark(Ae);function Pe(){var e,t,n;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(le.b)(je);case 3:return e=r.sent,t=e.user,n={uid:t.uid,email:t.email,photo:t.photoURL},r.next=8,Object(le.b)(me,n);case 8:return r.next=10,Object(le.c)(T(n));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),r.next=16,Object(le.c)(L(r.t0.message));case 16:case"end":return r.stop()}}),ge,null,[[0,12]])}function Re(e){var t,n,r,a,c;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.email,n=e.password,s.prev=1,s.next=4,Object(le.b)(be,t,n);case 4:return r=s.sent,a=r.user,c={uid:a.uid,email:a.email,photo:a.photoURL},s.next=9,Object(le.c)(T(c));case 9:s.next=15;break;case 11:return s.prev=11,s.t0=s.catch(1),s.next=15,Object(le.c)(L(s.t0.message));case 15:case"end":return s.stop()}}),we,null,[[1,11]])}function Le(e){var t,n,r,a,c;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.email,n=e.password,s.prev=1,s.next=4,Object(le.b)(de,t,n);case 4:return r=s.sent,a=r.user,c={uid:a.uid,email:a.email,photo:a.photoURL},s.next=9,Object(le.b)(me,c);case 9:return s.next=11,Object(le.c)(T(c));case 11:s.next=17;break;case 13:return s.prev=13,s.t0=s.catch(1),s.next=17,Object(le.c)(L(s.t0.message));case 17:case"end":return s.stop()}}),ye,null,[[1,13]])}function De(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(le.b)(Oe);case 3:return e.next=5,Object(le.c)(T(null));case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(le.c)(L(e.t0.message));case 11:case"end":return e.stop()}}),ke,null,[[0,7]])}function Ee(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(le.d)(S,Pe);case 2:case"end":return e.stop()}}),Se)}function _e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(le.d)(k,Re);case 2:case"end":return e.stop()}}),Ne)}function Me(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(le.d)(N,Le);case 2:case"end":return e.stop()}}),Ce)}function Ue(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(le.d)(C,De);case 2:case"end":return e.stop()}}),Ie)}function Ae(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.a)([_e(),Me(),Ee(),Ue()]);case 2:case"end":return e.stop()}}),Te)}var Ge=u.a.mark(Be);function Be(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.a)([Ae()]);case 2:case"end":return e.stop()}}),Ge)}var We=Object(ie.a)(),Ye=Object(ce.createStore)(se,Object(oe.composeWithDevTools)(Object(ce.applyMiddleware)(We)));We.run(Be),s.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(w.a,{store:Ye,children:Object(D.jsx)(j.a,{children:Object(D.jsx)(te,{})})})}),document.getElementById("root")),ne()},95:function(e,t,n){},96:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.bdafa7e3.chunk.js.map